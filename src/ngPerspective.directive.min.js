!function(){"use strict";function e(e){function t(t,o,n,i){function r(){"parent"===i.config.focalPoint?angular.element(angular.element(o[0]).parent()[0]).bind("mousemove",a):angular.element(e).bind("mousemove",a),s=c(o[0]),v=s.left+o.prop("clientWidth")/2,p=s.top+o.prop("clientHeight")/2}function c(e){var t=e.getBoundingClientRect(),o=window.pageYOffset||g.scrollTop||u.scrollTop,n=window.pageXOffset||g.scrollLeft||u.scrollLeft,i=g.clientTop||u.clientTop||0,r=g.clientLeft||u.clientLeft||0,c=t.top+o-i,l=t.left+n-r;return{top:c,left:l}}function l(e){var t=e||window.event,o=[];return o.x=t.clientX+(g&&g.scrollLeft||u&&u.scrollLeft||0)-(g.clientLeft||0),o.y=t.clientY+(g&&g.scrollTop||u&&u.scrollTop||0)-(g.clientTop||0),o}function a(n){var r,c,a=l(n),s=angular.element(o[0]),g=s.parent()[0];"elements"===i.config.focalPoint?(r=v-a.x,c=p-a.y):"window"===i.config.focalPoint?(r=e.innerHeight/2-a.x,c=e.innerHeight/2-a.y):"parent"===i.config.focalPoint&&(r=g.offsetLeft+angular.element(o[0]).parent()[0].clientWidth/2-a.x,c=g.offsetTop+angular.element(o[0]).parent()[0].clientHeight/2-a.y);var u={};u.xMove=t.zMove?r*t.zMove:r*t.xMove,u.yMove=t.zMove?c*t.zMove:c*t.yMove,u.xRotate=t.zRotate?r*t.zRotate:r*t.xMove,u.yRotate=t.zRotate?c*t.zRotate:c*t.yMove,Object.keys(u).map(function(e,t){u[e]=u[e]/i.config.perspectiveFactor}),f(u)}function f(e){var n="";t.zRotate&&(n+="perspective( 600px ) rotateY( "+-e.xRotate+"deg ) rotateX( "+e.yRotate+"deg )"),t.zMove&&(n+="translate("+e.xMove+"px, "+e.yMove+"px)"),!t.xMove||t.yMove||t.zMove||(n+="translateX("+e.xMove+"px)"),t.xMove||!t.yMove||t.zMove||(n+="translateY("+e.yMove+"px)"),t.xMove&&t.yMove&&!t.zMove&&(n+="translate("+e.xMove+"px, "+e.yMove+"px)"),o.css("transform",n)}var v,p,s,g=document.documentElement,u=document.body;r(),angular.element(e).bind("resize",r)}function o(e){var t=this;return t.config={focalPoint:"parent",perspectiveFactor:10},Object.keys(e.config).map(function(o,n){t.config[o]=e.config[o]}),t}var n={restrict:"A",scope:{xMove:"=",yMove:"=",zMove:"=",zRotate:"="},link:t,controller:["ngPerspectiveConfig",o],controllerAs:"vm"};return n}angular.module("ngPerspective",[]).provider("ngPerspectiveConfig",function(){this.config={},this.$get=function(){return this}}).directive("ngPerspective",e),e.$inject=["$window"]}();