!function(){"use strict";function t(t){function e(e,n,o,r){function p(){"parent"===r.config.focalPoint?angular.element(angular.element(n[0]).parent()[0]).bind("mousemove",i):angular.element(t).bind("mousemove",i),h=l(n[0]),d=h.left+n.prop("clientWidth")/2,f=h.top+n.prop("clientHeight")/2}function l(t){var e=t.getBoundingClientRect(),n=window.pageYOffset||s.scrollTop||u.scrollTop,o=window.pageXOffset||s.scrollLeft||u.scrollLeft,r=s.clientTop||u.clientTop||0,p=s.clientLeft||u.clientLeft||0,l=e.top+n-r,a=e.left+o-p;return{top:l,left:a}}function a(t){var e=t||window.event,n=[];return n.x=e.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s.clientLeft||0),n.y=e.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s.clientTop||0),n}function i(o){var p,l,i=a(o),h=angular.element(n[0]),s=h.parent()[0];"elements"===r.config.focalPoint?(p=d-i.x,l=f-i.y):"window"===r.config.focalPoint?(p=t.innerHeight/2-i.x,l=t.innerHeight/2-i.y):"parent"===r.config.focalPoint&&(p=s.offsetLeft+angular.element(n[0]).parent()[0].clientWidth/2-i.x,l=s.offsetTop+angular.element(n[0]).parent()[0].clientHeight/2-i.y);var u={};u.depthX=e.depthZ?p*e.depthZ:p*e.depthX,u.depthY=e.depthZ?l*e.depthZ:l*e.depthY,u.rotateX=e.rotateZ?p*e.rotateZ:p*e.depthX,u.rotateY=e.rotateZ?l*e.rotateZ:l*e.depthY,Object.keys(u).map(function(t,e){u[t]=u[t]/r.config.depthFactor}),c(u)}function c(t){var o="";e.rotateZ&&(o+="perspective( 600px ) rotateY( "+-t.rotateX+"deg ) rotateX( "+t.rotateY+"deg )"),e.depthZ&&(o+="translate("+t.depthX+"px, "+t.depthY+"px)"),!e.depthX||e.depthY||e.depthZ||(o+="translateX("+t.depthX+"px)"),e.depthX||!e.depthY||e.depthZ||(o+="translateY("+t.depthY+"px)"),e.depthX&&e.depthY&&!e.depthZ&&(o+="translate("+t.depthX+"px, "+t.depthY+"px)"),n.css("transform",o)}var d,f,h,s=document.documentElement,u=document.body;p(),angular.element(t).bind("resize",p)}function n(){var t=this;return t.config={focalPoint:"parent",depthFactor:10},t}var o={restrict:"A",scope:{depthX:"=",depthY:"=",depthZ:"=",rotateZ:"="},link:e,controller:n,controllerAs:"vm"};return o}angular.module("ngDepth",[]).directive("ngDepth",t)}();
