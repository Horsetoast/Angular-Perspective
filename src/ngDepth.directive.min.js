!function(){"use strict";function t(t){function e(e,n,o,r){function i(){"parent"===r.config.focalPoint?angular.element(angular.element(n[0]).parent()[0]).bind("mousemove",l):angular.element(t).bind("mousemove",l),h=p(n[0]),d=h.left+n.prop("clientWidth")/2,f=h.top+n.prop("clientHeight")/2}function p(t){var e=t.getBoundingClientRect(),n=window.pageYOffset||g.scrollTop||s.scrollTop,o=window.pageXOffset||g.scrollLeft||s.scrollLeft,r=g.clientTop||s.clientTop||0,i=g.clientLeft||s.clientLeft||0,p=e.top+n-r,c=e.left+o-i;return{top:p,left:c}}function c(t){var e=t||window.event,n=[];return n.x=e.clientX+(g&&g.scrollLeft||s&&s.scrollLeft||0)-(g.clientLeft||0),n.y=e.clientY+(g&&g.scrollTop||s&&s.scrollTop||0)-(g.clientTop||0),n}function l(o){var i,p,l=c(o),h=angular.element(n[0]),g=h.parent()[0];"elements"===r.config.focalPoint?(i=d-l.x,p=f-l.y):"window"===r.config.focalPoint?(i=t.innerHeight/2-l.x,p=t.innerHeight/2-l.y):"parent"===r.config.focalPoint&&(i=g.offsetLeft+angular.element(n[0]).parent()[0].clientWidth/2-l.x,p=g.offsetTop+angular.element(n[0]).parent()[0].clientHeight/2-l.y);var s={};s.depthX=e.depthZ?i*e.depthZ:i*e.depthX,s.depthY=e.depthZ?p*e.depthZ:p*e.depthY,s.rotateX=e.rotateZ?i*e.rotateZ:i*e.depthX,s.rotateY=e.rotateZ?p*e.rotateZ:p*e.depthY,Object.keys(s).map(function(t,e){s[t]=s[t]/r.config.depthFactor}),a(s)}function a(t){var o="";e.rotateZ&&(o+="perspective( 600px ) rotateY( "+-t.rotateX+"deg ) rotateX( "+t.rotateY+"deg )"),e.depthZ&&(o+="translate("+t.depthX+"px, "+t.depthY+"px)"),!e.depthX||e.depthY||e.depthZ||(o+="translateX("+t.depthX+"px)"),e.depthX||!e.depthY||e.depthZ||(o+="translateY("+t.depthY+"px)"),e.depthX&&e.depthY&&!e.depthZ&&(o+="translate("+t.depthX+"px, "+t.depthY+"px)"),n.css("transform",o)}var d,f,h,g=document.documentElement,s=document.body;i(),angular.element(t).bind("resize",i)}function n(t){var e=this;return e.config={focalPoint:"parent",depthFactor:10},Object.keys(t.config).map(function(n,o){e.config[n]=t.config[n]}),e}var o={restrict:"A",scope:{depthX:"=",depthY:"=",depthZ:"=",rotateZ:"="},link:e,controller:["ngDepthConfig",n],controllerAs:"vm"};return o}angular.module("ngDepth",[]).provider("ngDepthConfig",function(){this.config={},this.$get=function(){return this}}).directive("ngDepth",t),t.$inject=["$window"]}();