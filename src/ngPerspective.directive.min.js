!function(){"use strict";function e(e){function t(t,o,n,i){function r(){"parent"===i.config.focalPoint?angular.element(angular.element(o[0]).parent()[0]).bind("mousemove",a):angular.element(e).bind("mousemove",a),p=c(o[0]),m=p.left+o.prop("clientWidth")/2,v=p.top+o.prop("clientHeight")/2}function c(e){var t=e.getBoundingClientRect(),o=window.pageYOffset||s.scrollTop||g.scrollTop,n=window.pageXOffset||s.scrollLeft||g.scrollLeft,i=s.clientTop||g.clientTop||0,r=s.clientLeft||g.clientLeft||0,c=t.top+o-i,l=t.left+n-r;return{top:c,left:l}}function l(e){var t=e||window.event,o=[];return o.x=t.clientX+(s&&s.scrollLeft||g&&g.scrollLeft||0)-(s.clientLeft||0),o.y=t.clientY+(s&&s.scrollTop||g&&g.scrollTop||0)-(s.clientTop||0),o}function a(n){var r,c,a=l(n),p=angular.element(o[0]),s=p.parent()[0];"elements"===i.config.focalPoint?(r=m-a.x,c=v-a.y):"window"===i.config.focalPoint?(r=e.innerHeight/2-a.x,c=e.innerHeight/2-a.y):"parent"===i.config.focalPoint&&(r=s.offsetLeft+angular.element(o[0]).parent()[0].clientWidth/2-a.x,c=s.offsetTop+angular.element(o[0]).parent()[0].clientHeight/2-a.y);var g={};g.moveX=t.moveZ?r*t.moveZ:r*t.moveX,g.moveY=t.moveZ?c*t.moveZ:c*t.moveY,g.xRotate=t.rotateZ?r*t.rotateZ:r*t.moveX,g.yRotate=t.rotateZ?c*t.rotateZ:c*t.moveY,Object.keys(g).map(function(e,t){g[e]=g[e]/i.config.perspectiveFactor}),f(g)}function f(e){var n="";t.rotateZ&&(n+="perspective( 600px ) rotateY( "+-e.xRotate+"deg ) rotateX( "+e.yRotate+"deg )"),t.moveZ&&(n+="translate("+e.moveX+"px, "+e.moveY+"px)"),!t.moveX||t.moveY||t.moveZ||(n+="translateX("+e.moveX+"px)"),t.moveX||!t.moveY||t.moveZ||(n+="translateY("+e.moveY+"px)"),t.moveX&&t.moveY&&!t.moveZ&&(n+="translate("+e.moveX+"px, "+e.moveY+"px)"),o.css("transform",n)}var m,v,p,s=document.documentElement,g=document.body;r(),angular.element(e).bind("resize",r)}function o(e){var t=this;return t.config={focalPoint:"parent",perspectiveFactor:10},Object.keys(e.config).map(function(o,n){t.config[o]=e.config[o]}),t}var n={restrict:"A",scope:{moveX:"=",moveY:"=",moveZ:"=",rotateZ:"="},link:t,controller:["ngPerspectiveConfig",o],controllerAs:"vm"};return n}angular.module("ngPerspective",[]).provider("ngPerspectiveConfig",function(){this.config={},this.$get=function(){return this}}).directive("ngPerspective",e),e.$inject=["$window"]}();